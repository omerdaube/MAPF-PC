import subprocess



def parse_path_data(goals):
    
    soc = 0
    total_time = 0    
    i = 0
    first_time = True
    while goals != []: 
        print(goals)
        save_goals = goals        
        min_time = float("inf")
        agent = 0
        write_file(goals)
        command = f"./bin/cbs -m sample_input/empty-16-16.map -a goal_seq.txt -s 2 -k {len(goals)}"
        result = subprocess.run(['wsl', '-e', 'bash', '-c', command], capture_output=True, text=True)
        text = result.stdout.strip()
        # print(text)
        # print(goals)
        text = text.split("Optimal")[1]
        for line in text.split("\n"):
            if line == "":
                continue
            if line[0] == ',':
                continue
            else:
                if line[0:5] == "Agent":
                    agent = int(line[6])
                else:
                    arrive_to_first_goal = int(line.split("->")[0].split("@")[1])
                    if arrive_to_first_goal <= min_time:
                        if arrive_to_first_goal == min_time:
                            need_to_change_goal.append(agent)
                        else:
                            need_to_change_goal = [agent]
                        min_time = arrive_to_first_goal
        # print(len(goals))
        # print(min_time)
        # print(len(goals) * min_time )
        soc += len(goals) * min_time 
        agent = 0
        for line in text.split("\n"):
            if line == "":
                continue
            if line[0] == ',':
                csv = line.split(',')
                # soc += int(csv[1])
                if first_time:
                    first_time = False
                    print(f"CBS-PC: SoC = {csv[1]}, Time = {csv[2]}")
                total_time += float(csv[2])
            else:
                if line[0:5] == "Agent":
                    # print(line)
                    agent = int(line[6])
                    line = line.split(": ")[1]
                    arr = line.split("->")[min_time].split("@")[0][1:-1].split(", ")
                    tup = (int(arr[1]), int(arr[0]))
                    if agent in need_to_change_goal:
                        if goals[agent][2:] == []:
                            # finished_agents.append(agent)
                            i += 1
                            # goals.pop(agent)
                            goals[agent] = []
                        else:
                            goals[agent] = [tup] + goals[agent][2:]
                    else:
                        # print(goals)
                        # print(agent)
                        goals[agent][0] = tup
                else:
                    continue
        goals = [x for x in goals if x != []]
    # print(soc, total_time)
    print(f"Baseline: SoC = {soc}, Time = {total_time}")


text = """
Optimal,967,1.98532,5,221260,967,967,967,
Agent 0 (143 -->143): (7, 8)@0->(6, 8)@1->(6, 7)@2->(6, 6)@3->(6, 5)@4->(5, 5)@5->(4, 5)@6->(3, 5)@7->(2, 5)@8->(2, 4)@9->(2, 3)@10->(1, 3)@11*->(1, 4)@12->(1, 5)@13->(1, 6)@14->(2, 6)@15->(3, 6)@16->(3, 7)@17->(4, 7)@18->(4, 7)@19->(4, 7)@20->(4, 7)@21->(4, 7)@22->(4, 7)@23->(4, 7)@24->(4, 7)@25->(4, 7)@26->(4, 7)@27->(4, 7)@28->(4, 7)@29->(4, 7)@30->(4, 7)@31->(4, 7)@32->(4, 7)@33->(4, 7)@34->(4, 7)@35->(4, 7)@36->(4, 7)@37->(4, 7)@38->(4, 7)@39->(4, 7)@40->(4, 7)@41->(4, 7)@42->(4, 7)@43->(4, 7)@44->(4, 7)@45->(4, 7)@46->(4, 7)@47->(4, 7)@48->(4, 7)@49->(4, 7)@50->(4, 7)@51->(4, 7)@52->(4, 7)@53->(4, 7)@54->(4, 7)@55->(4, 7)@56->(4, 7)@57->(4, 7)@58->(4, 7)@59->(4, 7)@60->(4, 7)@61->(4, 7)@62->(4, 7)@63*->(3, 7)@64->(2, 7)@65->(1, 7)@66->(1, 6)@67->(0, 6)@68->(0, 5)@69->(0, 4)@70->(0, 3)@71->(0, 2)@72*->(0, 3)@73->(0, 4)@74->(0, 5)@75->(1, 5)@76->(2, 5)@77->(3, 5)@78->(4, 5)@79->(5, 5)@80->(6, 5)@81->(7, 5)@82->(8, 5)@83->(9, 5)@84->(10, 5)@85->(11, 5)@86->(12, 5)@87->(13, 5)@88->(13, 5)@89->(13, 5)@90->(13, 5)@91->(13, 5)@92->(13, 5)@93->(13, 5)@94->(13, 5)@95->(13, 5)@96->(13, 5)@97->(13, 5)@98->(13, 5)@99->(13, 5)@100->(13, 5)@101->(13, 5)@102->(13, 5)@103->(13, 5)@104->(13, 5)@105->(13, 5)@106->(13, 5)@107->(13, 5)@108->(13, 5)@109->(13, 5)@110->(13, 5)@111->(13, 5)@112->(13, 5)@113->(13, 5)@114->(13, 5)@115->(13, 5)@116->(13, 5)@117->(13, 5)@118->(13, 5)@119->(13, 5)@120->(13, 5)@121->(13, 5)@122->(13, 5)@123->(13, 5)@124->(13, 5)@125->(13, 5)@126->(13, 5)@127->(13, 5)@128->(13, 5)@129->(13, 5)@130->(13, 5)@131->(13, 5)@132->(13, 5)@133->(13, 5)@134->(13, 5)@135*->(12, 5)@136->(11, 5)@137->(11, 6)@138->(10, 6)@139->(10, 7)@140->(10, 8)@141->(10, 9)@142->(10, 10)@143->
(1, 3)@11->(4, 7)@63->(0, 2)@72->(13, 5)@135->(10, 10)@143->
Agent 1 (74 -->74): (10, 12)@0->(11, 12)@1->(11, 11)@2->(12, 11)@3->(12, 10)@4->(12, 9)@5->(12, 8)@6->(13, 8)@7->(14, 8)@8->(15, 8)@9->(15, 8)@10->(15, 8)@11->(15, 8)@12->(15, 8)@13->(15, 8)@14->(15, 8)@15->(15, 8)@16->(15, 8)@17->(15, 8)@18->(15, 8)@19->(15, 8)@20->(15, 8)@21->(15, 8)@22->(15, 8)@23->(15, 8)@24->(15, 8)@25->(15, 8)@26->(15, 8)@27->(15, 8)@28->(15, 8)@29->(15, 8)@30*->(15, 7)@31->(14, 7)@32->(13, 7)@33->(13, 6)@34->(12, 6)@35->(11, 6)@36->(11, 5)@37->(11, 5)@38->(11, 5)@39->(11, 5)@40->(11, 5)@41->(11, 5)@42->(11, 5)@43->(11, 5)@44->(11, 5)@45->(11, 5)@46->(11, 5)@47->(11, 5)@48->(11, 5)@49->(11, 5)@50->(11, 5)@51->(11, 5)@52->(11, 5)@53->(11, 5)@54->(11, 5)@55->(11, 5)@56->(11, 5)@57->(11, 5)@58->(11, 5)@59->(11, 5)@60->(11, 5)@61->(11, 5)@62->(11, 5)@63->(11, 5)@64*->(10, 5)@65->(10, 6)@66->(9, 6)@67->(8, 6)@68->(7, 6)@69->(6, 6)@70->(5, 6)@71->(4, 6)@72->(3, 6)@73->(2, 6)@74->
(15, 8)@30->(11, 5)@64->(2, 6)@74->
Agent 2 (11 -->11): (3, 12)@0->(3, 13)@1->(4, 13)@2->(5, 13)@3->(6, 13)@4->(7, 13)@5->(8, 13)@6->(9, 13)@7->(10, 13)@8->(11, 13)@9->(12, 13)@10->(13, 13)@11->
(13, 13)@11->
Agent 3 (127 -->127): (7, 10)@0->(8, 10)@1->(8, 9)@2->(8, 8)@3->(9, 8)@4->(9, 7)@5->(9, 6)@6->(9, 5)@7->(9, 4)@8->(9, 3)@9->(9, 2)@10->(9, 1)@11->(9, 0)@12*->(8, 0)@13->(8, 1)@14->(7, 1)@15->(7, 2)@16->(6, 2)@17->(6, 3)@18->(5, 3)@19->(4, 3)@20->(4, 4)@21->(4, 5)@22->(3, 5)@23->(3, 6)@24->(2, 6)@25->(1, 6)@26->(1, 7)@27->(1, 8)@28->(0, 8)@29->(0, 8)@30->(0, 8)@31->(0, 8)@32->(0, 8)@33->(0, 8)@34->(0, 8)@35->(0, 8)@36->(0, 8)@37->(0, 8)@38->(0, 8)@39->(0, 8)@40->(0, 8)@41->(0, 8)@42->(0, 8)@43->(0, 8)@44->(0, 8)@45->(0, 8)@46->(0, 8)@47->(0, 8)@48->(0, 8)@49->(0, 8)@50->(0, 8)@51->(0, 8)@52->(0, 8)@53->(0, 8)@54->(0, 8)@55->(0, 8)@56->(0, 8)@57->(0, 8)@58->(0, 8)@59->(0, 8)@60->(0, 8)@61->(0, 8)@62->(0, 8)@63->(0, 8)@64->(0, 8)@65->(0, 8)@66->(0, 8)@67->(0, 8)@68->(0, 8)@69->(0, 8)@70->(0, 8)@71->(0, 8)@72->(0, 8)@73->(0, 8)@74->(0, 8)@75->(0, 8)@76*->(1, 8)@77->(1, 7)@78->(1, 6)@79->(1, 5)@80->(1, 4)@81->(2, 4)@82->(2, 3)@83->(2, 2)@84->(2, 2)@85->(2, 2)@86->(2, 2)@87->(2, 2)@88->(2, 2)@89->(2, 2)@90->(2, 2)@91->(2, 2)@92->(2, 2)@93->(2, 2)@94->(2, 2)@95->(2, 2)@96->(2, 2)@97->(2, 2)@98->(2, 2)@99->(2, 2)@100->(2, 2)@101->(2, 2)@102->(2, 2)@103->(2, 2)@104->(2, 2)@105*->(3, 2)@106->(4, 2)@107->(5, 2)@108->(5, 3)@109->(5, 4)@110->(6, 4)@111->(6, 5)@112->(6, 6)@113->(6, 7)@114->(7, 7)@115->(7, 8)@116->(8, 8)@117->(9, 8)@118->(9, 9)@119->(9, 10)@120->(10, 10)@121->(11, 10)@122->(12, 10)@123->(13, 10)@124->(14, 10)@125->(15, 10)@126->(15, 11)@127->
(9, 0)@12->(0, 8)@76->(2, 2)@105->(15, 11)@127->
Agent 4 (148 -->148): (6, 8)@0->(5, 8)@1->(5, 7)@2->(4, 7)@3->(3, 7)@4->(3, 6)@5->(3, 5)@6->(3, 4)@7->(3, 4)@8->(3, 4)@9->(3, 4)@10->(3, 4)@11->(3, 4)@12->(3, 4)@13->(3, 4)@14->(3, 4)@15->(3, 4)@16->(3, 4)@17->(3, 4)@18->(3, 4)@19->(3, 4)@20->(3, 4)@21->(3, 4)@22->(3, 4)@23->(3, 4)@24->(3, 4)@25->(3, 4)@26->(3, 4)@27->(3, 4)@28->(3, 4)@29->(3, 4)@30->(3, 4)@31->(3, 4)@32->(3, 4)@33->(3, 4)@34->(3, 4)@35->(3, 4)@36->(3, 4)@37->(3, 4)@38->(3, 4)@39->(3, 4)@40->(3, 4)@41->(3, 4)@42->(3, 4)@43->(3, 4)@44->(3, 4)@45->(3, 4)@46->(3, 4)@47->(3, 4)@48->(3, 4)@49->(3, 4)@50->(3, 4)@51->(3, 4)@52->(3, 4)@53->(3, 4)@54->(3, 4)@55->(3, 4)@56->(3, 4)@57->(3, 4)@58->(3, 4)@59->(3, 4)@60->(3, 4)@61->(3, 4)@62->(3, 4)@63->(3, 4)@64->(3, 4)@65->(3, 4)@66->(3, 4)@67->(3, 4)@68->(3, 4)@69->(3, 4)@70->(3, 4)@71->(3, 4)@72->(3, 4)@73->(3, 4)@74->(3, 4)@75->(3, 4)@76->(3, 4)@77->(3, 4)@78->(3, 4)@79->(3, 4)@80->(3, 4)@81->(3, 4)@82->(3, 4)@83->(3, 4)@84->(3, 4)@85->(3, 4)@86->(3, 4)@87->(3, 4)@88->(3, 4)@89->(3, 4)@90->(3, 4)@91->(3, 4)@92->(3, 4)@93->(3, 4)@94->(3, 4)@95->(3, 4)@96->(3, 4)@97->(3, 4)@98->(3, 4)@99->(3, 4)@100->(3, 4)@101->(3, 4)@102->(3, 4)@103->(3, 4)@104->(3, 4)@105->(3, 4)@106*->(4, 4)@107->(5, 4)@108->(5, 5)@109->(6, 5)@110->(7, 5)@111->(7, 6)@112->(7, 7)@113->(8, 7)@114->(8, 8)@115->(8, 9)@116->(8, 10)@117->(8, 11)@118->(8, 12)@119->(8, 13)@120->(8, 14)@121->(8, 14)@122->(8, 14)@123->(8, 14)@124->(8, 14)@125->(8, 14)@126->(8, 14)@127->(8, 14)@128*->(7, 14)@129->(6, 14)@130->(6, 13)@131->(5, 13)@132->(5, 12)@133->(4, 12)@134*->(4, 11)@135->(5, 11)@136->(5, 10)@137->(6, 10)@138->(6, 9)@139->(7, 9)@140->(8, 9)@141->(9, 9)@142->(10, 9)@143->(11, 9)@144->(12, 9)@145->(13, 9)@146->(14, 9)@147->(15, 9)@148->
(3, 4)@106->(8, 14)@128->(4, 12)@134->(15, 9)@148->
Agent 5 (106 -->106): (3, 0)@0->(3, 1)@1->(3, 2)@2->(3, 3)@3->(3, 4)@4->(3, 5)@5->(2, 5)@6->(2, 6)@7->(2, 7)@8*->(3, 7)@9->(4, 7)@10->(4, 6)@11->(5, 6)@12->(6, 6)@13->(7, 6)@14->(8, 6)@15->(9, 6)@16->(10, 6)@17->(11, 6)@18->(12, 6)@19->(13, 6)@20->(14, 6)@21->(15, 6)@22*->(15, 7)@23->(14, 7)@24->(14, 8)@25->(14, 9)@26->(14, 10)@27->(14, 11)@28->(13, 11)@29*->(13, 10)@30->(13, 9)@31->(13, 8)@32->(14, 8)@33->(14, 7)@34->(14, 6)@35->(14, 5)@36->(15, 5)@37->(15, 5)@38->(14, 5)@39->(13, 5)@40->(12, 5)@41->(12, 6)@42->(12, 7)@43->(11, 7)@44->(11, 8)@45->(10, 8)@46->(10, 9)@47->(10, 10)@48->(10, 11)@49->(10, 11)@50->(10, 11)@51->(10, 11)@52->(10, 11)@53->(10, 11)@54->(10, 11)@55->(10, 11)@56->(10, 11)@57->(10, 11)@58->(10, 11)@59->(10, 11)@60->(11, 11)@61->(10, 11)@62->(10, 11)@63->(10, 11)@64->(10, 11)@65->(10, 11)@66->(10, 11)@67->(10, 11)@68->(10, 11)@69->(10, 11)@70->(10, 11)@71->(10, 11)@72->(10, 11)@73->(10, 11)@74->(10, 11)@75->(10, 11)@76->(10, 11)@77->(10, 11)@78->(10, 11)@79->(10, 11)@80->(10, 11)@81->(10, 11)@82->(10, 11)@83->(10, 11)@84->(10, 11)@85->(10, 11)@86->(10, 11)@87->(10, 11)@88->(10, 11)@89->(10, 11)@90->(10, 11)@91->(10, 11)@92->(10, 11)@93->(10, 11)@94->(10, 11)@95->(10, 11)@96->(10, 11)@97->(10, 11)@98->(10, 11)@99->(10, 11)@100->(10, 11)@101->(10, 11)@102->(10, 11)@103->(10, 11)@104->(11, 11)@105->(10, 11)@106->
(2, 7)@12->(15, 6)@22->(13, 11)@29->(10, 11)@106->
Agent 6 (104 -->104): (0, 1)@0->(0, 2)@1->(0, 3)@2->(1, 3)@3->(2, 3)@4->(3, 3)@5->(4, 3)@6->(4, 4)@7->(4, 5)@8->(5, 5)@9->(5, 6)@10->(5, 7)@11->(6, 7)@12->(7, 7)@13->(8, 7)@14->(9, 7)@15->(10, 7)@16->(11, 7)@17*->(10, 7)@18->(10, 6)@19->(10, 5)@20->(9, 5)@21->(8, 5)@22->(8, 6)@23->(8, 7)@24->(8, 8)@25->(8, 9)@26->(8, 10)@27->(8, 11)@28->(8, 12)@29->(8, 13)@30->(8, 14)@31->(7, 14)@32->(7, 14)@33->(8, 14)@34->(9, 14)@35->(10, 14)@36->(11, 14)@37->(11, 14)@38->(11, 14)@39->(11, 14)@40->(11, 14)@41->(11, 14)@42->(11, 14)@43->(11, 14)@44->(11, 14)@45->(11, 14)@46->(11, 14)@47->(11, 14)@48->(11, 14)@49->(11, 14)@50->(11, 14)@51->(11, 14)@52->(11, 14)@53->(11, 14)@54->(11, 14)@55->(11, 14)@56->(11, 14)@57->(11, 14)@58->(11, 14)@59->(11, 14)@60->(11, 14)@61->(11, 14)@62->(11, 14)@63->(11, 14)@64->(11, 14)@65->(11, 14)@66->(11, 14)@67->(11, 14)@68->(11, 14)@69->(11, 14)@70->(11, 14)@71->(11, 14)@72->(11, 14)@73->(11, 14)@74->(11, 14)@75*->(10, 14)@76->(10, 13)@77->(10, 12)@78->(9, 12)@79->(9, 11)@80->(9, 10)@81->(9, 9)@82->(8, 9)@83->(8, 8)@84->(8, 7)@85->(8, 6)@86->(7, 6)@87->(6, 6)@88->(6, 5)@89->(6, 4)@90->(5, 4)@91->(5, 3)@92->(5, 2)@93->(5, 1)@94->(5, 0)@95*->(4, 0)@96->(4, 1)@97->(3, 1)@98->(3, 2)@99->(3, 3)@100->(2, 3)@101->(2, 4)@102->(1, 4)@103->(0, 4)@104->
(11, 7)@17->(11, 14)@75->(5, 0)@95->(0, 4)@104->
Agent 7 (105 -->105): (10, 6)@0->(9, 6)@1->(8, 6)@2->(7, 6)@3->(6, 6)@4->(5, 6)@5->(4, 6)@6->(3, 6)@7->(2, 6)@8->(1, 6)@9->(0, 6)@10->(0, 7)@11->(0, 7)@12->(0, 7)@13->(0, 7)@14->(0, 7)@15->(0, 7)@16->(0, 7)@17->(0, 7)@18->(0, 7)@19->(0, 7)@20->(0, 7)@21->(0, 7)@22->(0, 7)@23->(0, 7)@24->(0, 7)@25->(0, 7)@26->(0, 7)@27->(0, 7)@28->(0, 7)@29->(0, 7)@30->(0, 7)@31->(0, 7)@32->(0, 7)@33->(0, 7)@34->(0, 7)@35->(0, 7)@36->(0, 7)@37->(0, 7)@38->(0, 7)@39->(0, 7)@40->(0, 7)@41->(0, 7)@42->(0, 7)@43->(0, 7)@44->(0, 7)@45->(0, 7)@46->(0, 7)@47->(0, 7)@48->(0, 7)@49->(0, 7)@50->(0, 7)@51->(0, 7)@52->(0, 7)@53->(0, 7)@54->(0, 7)@55->(0, 7)@56->(0, 7)@57->(0, 7)@58->(0, 7)@59->(0, 7)@60->(0, 7)@61->(0, 7)@62->(0, 7)@63->(0, 7)@64->(0, 7)@65->(0, 7)@66->(0, 7)@67->(0, 7)@68->(0, 7)@69->(0, 7)@70->(0, 7)@71->(0, 7)@72->(0, 7)@73->(0, 7)@74->(0, 7)@75->(0, 7)@76->(0, 7)@77->(0, 7)@78->(0, 7)@79->(0, 7)@80->(0, 7)@81->(0, 7)@82->(0, 7)@83->(0, 7)@84->(0, 7)@85->(0, 7)@86->(0, 7)@87->(0, 7)@88->(0, 7)@89->(0, 7)@90->(0, 7)@91->(0, 7)@92->(0, 7)@93->(0, 7)@94->(0, 7)@95->(0, 7)@96->(0, 7)@97->(0, 7)@98->(0, 7)@99->(0, 7)@100->(0, 7)@101->(0, 7)@102->(0, 7)@103->(1, 7)@104->(0, 7)@105->
(0, 7)@105->
Agent 8 (76 -->76): (2, 0)@0->(3, 0)@1->(3, 1)@2->(4, 1)@3->(4, 2)@4->(5, 2)@5->(6, 2)@6->(6, 3)@7->(6, 4)@8->(6, 5)@9->(7, 5)@10->(7, 6)@11->(7, 7)@12->(8, 7)@13->(8, 8)@14->(8, 9)@15->(8, 10)@16->(9, 10)@17->(10, 10)@18->(10, 11)@19->(11, 11)@20->(11, 12)@21->(12, 12)@22->(12, 13)@23->(12, 14)@24->(13, 14)@25->(13, 14)@26->(13, 14)@27->(13, 14)@28->(13, 14)@29->(13, 14)@30*->(14, 14)@31->(14, 13)@32*->(14, 12)@33->(14, 11)@34->(14, 10)@35->(13, 10)@36->(12, 10)@37->(11, 10)@38*->(10, 10)@39->(10, 9)@40->(9, 9)@41->(8, 9)@42->(7, 9)@43->(7, 8)@44->(6, 8)@45->(6, 7)@46->(5, 7)@47->(5, 6)@48->(4, 6)@49->(3, 6)@50->(2, 6)@51->(2, 5)@52*->(2, 4)@53->(2, 3)@54->(2, 2)@55->(3, 2)@56->(4, 2)@57->(5, 2)@58->(6, 2)@59->(7, 2)@60->(8, 2)@61->(9, 2)@62*->(9, 3)@63->(9, 4)@64->(9, 5)@65->(8, 5)@66->(7, 5)@67->(6, 5)@68->(6, 6)@69->(6, 7)@70->(5, 7)@71->(5, 8)@72->(5, 9)@73->(4, 9)@74->(4, 10)@75->(3, 10)@76->
(13, 14)@30->(14, 13)@32->(11, 10)@38->(2, 5)@52->(9, 2)@62->(3, 10)@76->
Agent 9 (73 -->73): (15, 0)@0->(14, 0)@1->(13, 0)@2->(12, 0)@3->(12, 1)@4->(12, 2)@5->(12, 3)@6->(12, 4)@7->(12, 5)@8->(11, 5)@9->(11, 6)@10->(11, 7)@11->(10, 7)@12->(9, 7)@13->(9, 8)@14->(8, 8)@15->(8, 9)@16->(8, 10)@17->(7, 10)@18->(7, 11)@19->(7, 12)@20->(6, 12)@21->(5, 12)@22->(5, 13)@23->(5, 14)@24->(5, 15)@25->(5, 15)@26->(5, 15)@27->(5, 15)@28->(5, 15)@29->(5, 15)@30->(5, 15)@31->(5, 15)@32->(5, 15)@33->(5, 15)@34->(5, 15)@35->(5, 15)@36->(5, 15)@37->(5, 15)@38->(5, 15)@39->(5, 15)@40->(5, 15)@41->(5, 15)@42->(5, 15)@43->(5, 15)@44->(5, 15)@45->(5, 15)@46->(5, 15)@47->(5, 15)@48->(5, 15)@49->(5, 15)@50->(5, 15)@51->(5, 15)@52->(5, 15)@53->(5, 15)@54->(5, 15)@55->(5, 15)@56->(5, 15)@57->(5, 15)@58->(5, 15)@59->(5, 15)@60->(5, 15)@61->(5, 15)@62->(5, 15)@63->(5, 15)@64->(5, 15)@65->(5, 15)@66->(5, 15)@67->(5, 15)@68->(5, 15)@69->(5, 15)@70->(5, 15)@71->(5, 14)@72->(5, 15)@73->
(5, 15)@73->

"""
# 
def write_file(list_of_lists):
    with open("goal_seq.txt", "w") as file:
        # Write the length of the outer list
        file.write(f"{len(list_of_lists)}\n")

        for inner_list in list_of_lists:
            # Write the length of the inner list
            line = f"{len(inner_list)-1}"
            # Flatten the tuples and join elements with tabs
            for tup in inner_list:
                line += "\t" + "\t".join(map(str, tup))
            # Write the line to the file
            file.write(line + "\n")


# Example usage
start_and_goals = [
    [(8, 7), (3, 1), (7, 4), (2, 0), (5, 13), (10, 10)],
    [(12, 10), (8, 15), (5, 11), (6, 2)],
    [(12, 3), (13, 13)],
    [(10, 7), (0, 9), (8, 0), (2, 2), (11, 15), (12,4)],
    [(8, 6), (4, 3), (14, 8), (12, 4), (9, 15)],
    [(0, 3), (7, 2), (6, 15), (11, 13), (11, 10)],
    [(1, 0), (7, 11), (14, 11), (0, 5), (4, 0)],
    [(6, 10), (7, 0)],
    [(0, 2), (14, 13), (13, 14), (10, 11), (5, 2), (2, 9), (10, 3)],
    [(0, 15), (15,5), (14,3)]
]
# print(start_and_goals)
# write_file(start_and_goals)

parse_path_data(start_and_goals)